# Проект "ВШЭ-Банк: Модуль Учета финансов"

Это консольное приложение представляет собой реализацию доменной модели модуля "Учет финансов" для гипотетического ВШЭ-Банка. Проект разработан в рамках домашней работы по курсу "Конструирование программного обеспечения".

## Реализованный функционал

### Основные требования
- **Управление счетами**: Создание, редактирование, удаление и просмотр банковских счетов.
- **Управление категориями**: Создание, редактирование, удаление и просмотр категорий доходов и расходов.
- **Управление операциями**: Создание, редактирование, удаление и просмотр операций (доходов/расходов).

### Дополнительная функциональность
- **Аналитика**:
  - Подсчет разницы доходов и расходов за выбранный пользователем период.
  - Группировка всех доходов и расходов по категориям.
- **Статистика**:
  - Замер времени выполнения каждого пользовательского сценария (команды).

## Принципы и Паттерны

### SOLID
- **S (Single Responsibility Principle)**: Каждый класс имеет одну зону ответственности. Например, `BankAccountFacade` отвечает только за логику, связанную со счетами, `AnalyticsFacade` — за аналитику, а классы команд (`CreateBankAccountCommand`) — за выполнение конкретных действий.
- **O (Open/Closed Principle)**: Система открыта для расширения и закрыта для модификации. Благодаря паттерну "Команда" и DI-контейнеру, можно легко добавить новые команды (сценарии), не изменяя существующий `CommandProcessor`.
- **L (Liskov Substitution Principle)**: Все команды реализуют общий интерфейс `ICommand`, что позволяет `CommandProcessor` работать с ними единообразно.
- **I (Interface Segregation Principle)**: Используется базовый интерфейс `ICommand`, который не перегружен лишними методами.
- **D (Dependency Inversion Principle)**: Зависимости (например, фасады и команды) инвертированы с помощью DI-контейнера `Microsoft.Extensions.DependencyInjection`. Классы верхнего уровня (например, `Program`) не зависят от конкретных реализаций, а от абстракций (сервисов, зарегистрированных в контейнере).

### GRASP
- **High Cohesion**: Классы имеют высокую степень сфокусированности. Например, `BankAccount` инкапсулирует данные и логику, относящуюся только к банковскому счету.
- **Low Coupling**: Связность между компонентами снижена за счет использования фасадов и DI. Фасады скрывают сложную внутреннюю логику, а DI-контейнер управляет созданием зависимостей, уменьшая прямые связи между классами.

### Паттерны GoF
1.  **Фасад (Facade)**:
    - **Реализация**: `BankAccountFacade`, `CategoryFacade`, `OperationFacade`, `AnalyticsFacade`.
    - **Важность**: Паттерн упрощает взаимодействие с подсистемами. Каждый фасад предоставляет единую точку входа для управления счетами, категориями, операциями и аналитикой, скрывая сложность внутренней реализации.
2.  **Команда (Command)**:
    - **Реализация**: Классы в директории `commands`, реализующие интерфейс `ICommand` (например, `CreateBankAccountCommand`). `CommandProcessor` выступает в роли "invoker"-а.
    - **Важность**: Инкапсулирует запрос как объект, позволяя параметризовать клиенты с разными запросами, ставить запросы в очередь или логировать их. В данном проекте это позволило легко добавить декоратор для замера времени.
3.  **Декоратор (Decorator)**:
    - **Реализация**: `TimingCommandDecorator`.
    - **Важность**: Динамически добавляет новую функциональность объекту, не изменяя его исходный код. Декоратор оборачивает любую команду и замеряет время ее выполнения, что идеально соответствует заданию.
4.  **Фабрика (Factory Method)**:
    - **Реализация**: `BankFactory`.
    - **Важность**: Централизует создание доменных объектов (`BankAccount`, `Category`, `Operation`), гарантируя, что все они создаются единообразно и проходят необходимую валидацию в конструкторах. Это предотвращает создание невалидных объектов в разных частях системы.
5.  **Внедрение зависимостей (Dependency Injection)**:
    - **Реализация**: С использованием `Microsoft.Extensions.DependencyInjection`. Конфигурация происходит в `Program.cs`.
    - **Важность**: Управляет жизненным циклом зависимостей, уменьшает связность кода и упрощает его тестирование и поддержку. Это позволило гибко связать все компоненты системы: фасады, фабрику, команды и `CommandProcessor`.

## Инструкция по запуску

1.  **Клонируйте репозиторий**:
    ```bash
    git clone <URL вашего репозитория>
    ```
2.  **Перейдите в директорию проекта**:
    ```bash
    cd Bank
    ```
3.  **Соберите проект**:
    ```bash
    dotnet build
    ```
4.  **Запустите приложение**:
    ```bash
    dotnet run --project Bank/Bank.csproj
    ```
5.  **Следуйте инструкциям в консоли** для использования функционала приложения.
